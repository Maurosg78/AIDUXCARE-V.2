<svg xmlns="http://www.w3.org/2000/svg" width="1200" height="720" font-family="Inter,Arial,sans-serif">
  <defs>
    <marker id="arrow" markerWidth="10" markerHeight="10" refX="10" refY="3" orient="auto" markerUnits="strokeWidth">
      <path d="M0,0 L10,3 L0,6 z" fill="#333"/>
    </marker>
    <style>
      .box{fill:#fff;stroke:#333;stroke-width:2;rx:10;ry:10}
      .title{font-size:18px;font-weight:700;fill:#111}
      .meta{font-size:12px;fill:#444}
      .edge{stroke:#333;stroke-width:2;marker-end:url(#arrow)}
      .label{font-size:12px;fill:#111}
      .swim{fill:#f6f7f9;stroke:#ddd}
    </style>
  </defs>

  <!-- Swimlanes -->
  <rect class="swim" x="20" y="40" width="1160" height="300"/>
  <text class="meta" x="30" y="60">Operational Path (CRUD)</text>

  <rect class="swim" x="20" y="380" width="1160" height="280"/>
  <text class="meta" x="30" y="400">Governance & Lifecycle Controls</text>

  <!-- Operational path boxes -->
  <rect class="box" x="60" y="120" width="220" height="90"/>
  <text class="title" x="170" y="150" text-anchor="middle">Capture</text>
  <text class="meta"  x="170" y="170" text-anchor="middle">UI / API ingest</text>
  <text class="meta"  x="170" y="188" text-anchor="middle">PII-minimization</text>

  <rect class="box" x="330" y="120" width="220" height="90"/>
  <text class="title" x="440" y="150" text-anchor="middle">Validate</text>
  <text class="meta"  x="440" y="170" text-anchor="middle">type/rules checks</text>
  <text class="meta"  x="440" y="188" text-anchor="middle">MRN uniqueness</text>

  <rect class="box" x="600" y="120" width="220" height="90"/>
  <text class="title" x="710" y="150" text-anchor="middle">Clinical Use</text>
  <text class="meta"  x="710" y="170" text-anchor="middle">RBAC + RLS</text>
  <text class="meta"  x="710" y="188" text-anchor="middle">least privilege</text>

  <rect class="box" x="870" y="120" width="220" height="90"/>
  <text class="title" x="980" y="150" text-anchor="middle">Sign & Lock</text>
  <text class="meta"  x="980" y="170" text-anchor="middle">immutable note</text>
  <text class="meta"  x="980" y="188" text-anchor="middle">signHash + ts</text>

  <!-- Operational edges -->
  <line class="edge" x1="280" y1="165" x2="330" y2="165"/>
  <text class="label" x="305" y="150">validate</text>

  <line class="edge" x1="550" y1="165" x2="600" y2="165"/>
  <text class="label" x="575" y="150">authorize</text>

  <line class="edge" x1="820" y1="165" x2="870" y2="165"/>
  <text class="label" x="845" y="150">sign</text>

  <!-- Governance boxes -->
  <rect class="box" x="60" y="460" width="260" height="100"/>
  <text class="title" x="190" y="490" text-anchor="middle">Audit Trail</text>
  <text class="meta"  x="190" y="510" text-anchor="middle">append-only events</text>
  <text class="meta"  x="190" y="528" text-anchor="middle">HMAC checksum</text>

  <rect class="box" x="360" y="460" width="260" height="100"/>
  <text class="title" x="490" y="490" text-anchor="middle">Retention / Archive</text>
  <text class="meta"  x="490" y="510" text-anchor="middle">policy-based (PHIPA/PIPEDA)</text>
  <text class="meta"  x="490" y="528" text-anchor="middle">auto-archive closed encounters</text>

  <rect class="box" x="660" y="460" width="220" height="100"/>
  <text class="title" x="770" y="490" text-anchor="middle">Deletion Request</text>
  <text class="meta"  x="770" y="510" text-anchor="middle">tombstone + secure purge</text>
  <text class="meta"  x="770" y="528" text-anchor="middle">attachments wiped</text>

  <rect class="box" x="920" y="460" width="220" height="100"/>
  <text class="title" x="1030" y="490" text-anchor="middle">Backup & Restore</text>
  <text class="meta"  x="1030" y="510" text-anchor="middle">daily + monthly snapshots</text>
  <text class="meta"  x="1030" y="528" text-anchor="middle">weekly restore tests</text>

  <!-- Governance edges -->
  <line class="edge" x1="170" y1="210" x2="190" y2="460"/>
  <text class="label" x="175" y="360" transform="rotate(-78,175,360)">audit append</text>

  <line class="edge" x1="980" y1="210" x2="1030" y2="460"/>
  <text class="label" x="1010" y="360" transform="rotate(-65,1010,360)">snapshot</text>

  <line class="edge" x1="710" y1="210" x2="490" y2="460"/>
  <text class="label" x="600" y="360" transform="rotate(45,600,360)">retention policy</text>

  <line class="edge" x1="600" y1="165" x2="770" y2="460"/>
  <text class="label" x="690" y="330" transform="rotate(35,690,330)">DSR / delete</text>

  <!-- Global guardrails -->
  <text class="label" x="600" y="690" text-anchor="middle">Encryption at rest (AES-256) · TLS 1.2+ · RBAC + RLS · No PHI in logs</text>
</svg>
