<!DOCTYPE html>
<html>
<head>
    <title>Test Variables de Entorno</title>
</head>
<body>
    <h1>Test Variables de Entorno Firebase</h1>
    <div id="output"></div>
    
    <script type="module">
        const output = document.getElementById('output');
        
        // Test de variables de entorno
        const envVars = {
            'VITE_ENV_TARGET': import.meta.env.VITE_ENV_TARGET,
            'VITE_FIREBASE_API_KEY': import.meta.env.VITE_FIREBASE_API_KEY,
            'VITE_FIREBASE_AUTH_DOMAIN': import.meta.env.VITE_FIREBASE_AUTH_DOMAIN,
            'VITE_FIREBASE_PROJECT_ID': import.meta.env.VITE_FIREBASE_PROJECT_ID,
            'DEV': import.meta.env.DEV,
            'MODE': import.meta.env.MODE
        };
        
        let html = '<h2>Variables de Entorno:</h2><ul>';
        for (const [key, value] of Object.entries(envVars)) {
            html += `<li><strong>${key}:</strong> ${value || 'NO DEFINIDA'}</li>`;
        }
        html += '</ul>';
        
        output.innerHTML = html;
        
        // Test de Firebase
        try {
            import('firebase/app').then(({ initializeApp }) => {
                const config = {
                    apiKey: import.meta.env.VITE_FIREBASE_API_KEY,
                    authDomain: import.meta.env.VITE_FIREBASE_AUTH_DOMAIN,
                    projectId: import.meta.env.VITE_FIREBASE_PROJECT_ID,
                    storageBucket: import.meta.env.VITE_FIREBASE_STORAGE_BUCKET,
                    messagingSenderId: import.meta.env.VITE_FIREBASE_MESSAGING_SENDER_ID,
                    appId: import.meta.env.VITE_FIREBASE_APP_ID
                };
                
                const app = initializeApp(config);
                output.innerHTML += '<h2>✅ Firebase inicializado correctamente</h2>';
                output.innerHTML += `<pre>${JSON.stringify(config, null, 2)}</pre>`;
            }).catch(error => {
                output.innerHTML += `<h2>❌ Error Firebase:</h2><pre>${error.message}</pre>`;
            });
        } catch (error) {
            output.innerHTML += `<h2>❌ Error general:</h2><pre>${error.message}</pre>`;
        }
    </script>
</body>
</html>
