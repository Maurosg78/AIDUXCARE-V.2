#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

echo "ğŸ” TypeScript..."
npm run -s typecheck:app || { echo "âŒ TS con errores"; exit 1; }

echo "ğŸ”§ ESLint..."
npm run -s lint || { echo "âŒ ESLint con errores"; exit 1; }

echo "ğŸ›‘ Imports prohibidos..."
if grep -R "@/_deprecated\|@/z_trash" src --include="*.ts" --include="*.tsx" 2>/dev/null; then
  echo "âŒ Se detectaron imports desde _deprecated/z_trash"
  exit 1
fi

echo "âœ… pre-commit OK"
