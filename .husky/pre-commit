#!/usr/bin/env bash
set -e

echo "ğŸ” Running data validation (Zod) + SoT trailersâ€¦"

# 1ï¸âƒ£ Ejecuta validaciÃ³n de datos (Zod)
npm run -s validate:data || exit $?

# 2ï¸âƒ£ Auto-agrega los trailers SoT si faltan
if [ -f scripts/auto-add-trailers.sh ]; then
  bash scripts/auto-add-trailers.sh || true
else
  echo "âš ï¸ scripts/auto-add-trailers.sh no encontrado, omitiendo."
fi

echo "âœ… pre-commit ejecutado correctamente."
