set -e
echo "ğŸ›¡ï¸  git-guard: checking branch safetyâ€¦"
powershell.exe -NoProfile -ExecutionPolicy Bypass -File scripts/git-guard.ps1 || exit 1
echo "ğŸš¦ pre-push: running Zod validation tests + SoT trailersâ€¦"
npx vitest run -t '' \
  test/validation/notes.schema.spec.ts \
  test/validation/audit-logs.schema.spec.ts \
  test/validation/consents.schema.spec.ts \
  test/validation/validate-samples.spec.ts
scripts/check-sot-trailers.sh
echo "âœ… pre-push checks passed."
